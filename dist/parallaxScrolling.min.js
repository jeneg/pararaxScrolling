/**
 * Parallax Scrolling v0.1 / 2014-05-29
 * Copyright (c) 2014 Evgeniy Chubar
 * polizey565@gmail.com
 */
!function(){"use strict";var t={defSpeed:.35},a=$(window),n=$("[data-parallax]"),e=!0,i=function(){return"backgroundSize"in document.documentElement.style?function(t){t.css({backgroundImage:'url("'+this.src+'")',backgroundRepeat:"repeat"}).data({nWidth:this.naturalWidth,nHeight:this.naturalHeight,speed:r(t)}),$.proxy(c,t)()}:(e=!1,function(t){t.css({background:'url("'+this.src+'") 50% 0'})})}(),r=function(a){var n=a.attr("data-parallax-speed");return(!n||isNaN(n)||n>1||0>n)&&(n=t.defSpeed),n},o=function(){var t=$(this),a=t.attr("data-parallax"),n=$(new Image);n.on("load",function(){$.proxy(i,this,t)()}).attr("src",a)},c=function(){var t,n,e,i,r,o=$(this),c=o.innerWidth(),d=o.innerHeight(),s=o.data("nWidth"),u=o.data("nHeight"),h=o.data("speed");s&&u&&h&&(t=(a.scrollTop()-o.offset().top)/d,t=Math.min(1,Math.max(-1,t)),n=c,e=Math.ceil(n*u/s),d>e&&(e=d,n=Math.ceil(e*s/u)),i=Math.round((c-n)/2),r=Math.round((d-e)/2)+t*h*d,o.css({backgroundSize:n+"px "+e+"px",backgroundPosition:i+"px "+r+"px"}))},d=function(){n.each(c)};n.each(o),e&&a.on("resize scroll",d)}();